!function(){"use strict";window.addEventListener("load",(function(){var e=document.documentElement,t=(document.querySelector("body"),document.querySelector(".header")),n=document.querySelector(".main"),o=document.querySelector(".header__li-expand"),c=document.querySelectorAll(".header__catalog>ul>li"),a=(document.querySelector(".header__menu"),document.querySelector(".header__menu-box")),r=document.querySelector(".header__catalog"),s=o.querySelector(".header__catalog i"),l=document.querySelector(".header__burger"),i=document.querySelector(".overlay"),u=document.querySelector(".header__burger .fa-bars"),d=document.querySelector(".header__burger .fa-xmark"),m=document.querySelectorAll(".call-popup"),f=document.querySelectorAll(".popup"),h=document.querySelectorAll(".form-ajax"),p=document.querySelectorAll(".popup__close"),v=document.querySelector(".warning"),_=document.querySelector(".warning__close"),g=document.querySelector(".warning__link");function y(){n.style.marginTop=t.offsetHeight+"px"}function w(){a.classList.toggle("header__menu-box_visible"),u.classList.toggle("d-none"),d.classList.toggle("d-none"),i.classList.toggle("overlay_visible"),e.style.overflowY="hidden"!==e.style.overflowY?"hidden":"auto"}y(),window.addEventListener("resize",y),window.addEventListener("resize",(function(){return e.style.overflowY="auto"})),l.addEventListener("click",(function(){w()})),i.addEventListener("click",(function(){w()})),o.addEventListener("click",(function(){r.classList.toggle("header__li-expanded"),s.classList.toggle("header__arr-rotate")})),c.forEach((function(e){var t=e.querySelector("a"),n=o.cloneNode(!0),c=n.querySelector("i");n.classList.remove("d-none"),n.addEventListener("click",(function(){e.classList.toggle("header__li-expanded"),c.classList.toggle("header__arr-rotate")})),t.after(n)}));new Swiper(".swiper",{loop:!0,navigation:{nextEl:".swiper__button_next",prevEl:".swiper__button_prev"}});function E(t){e.style.overflowY="auto",t.classList.remove("show"),setTimeout((function(){t.classList.add("d-none")}),600)}m.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var n,o=this.href.split("#").pop(),c=document.getElementById(o);(n=c).classList.remove("d-none"),setTimeout((function(){n.classList.add("show")}),100),setTimeout((function(){e.style.overflowY="hidden"}),500)}))})),f.forEach((function(e){e.addEventListener("click",(function(e){e.target.classList.contains("popup")&&E(e.target)}))})),p.forEach((function(e){e.addEventListener("click",(function(){E(this.closest(".popup"))}))})),h.forEach((function(e){e.onsubmit=function(e){e.preventDefault();var t=this,n=function(e){if(e&&"FORM"===e.nodeName){var t,n,o={};for(t=0;t<e.elements.length;t++)if(""!==e.elements[t].name)switch(e.elements[t].nodeName){case"INPUT":switch(e.elements[t].type){case"text":case"number":case"hidden":case"tel":case"password":case"button":case"reset":case"submit":case"range":o[e.elements[t].name]=e.elements[t].value;break;case"checkbox":case"radio":e.elements[t].checked&&(o[e.elements[t].name]=e.elements[t].value)}break;case"TEXTAREA":o[e.elements[t].name]=e.elements[t].value;break;case"SELECT":switch(e.elements[t].type){case"select-one":o[e.elements[t].name]=e.elements[t].value;break;case"select-multiple":for(n=e.elements[t].options.length-1;n>=0;n-=1)e.elements[t].options[n].selected&&(o[e.elements[t].name]=e.elements[t].options[n].value)}break;case"BUTTON":switch(e.elements[t].type){case"reset":case"submit":case"button":o[e.elements[t].name]=e.elements[t].value}}return o}}(this);(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fetch(t,{method:e,body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.ok?e.json():e.text().then((function(e){var t=new Error("Error!!!");throw t.data=e,t}))}))})("POST","mail.php",n).then((function(e){switch(document.querySelectorAll(".popup__input").forEach((function(e){e.value=""})),document.querySelectorAll(".popup__textarea").forEach((function(e){e.value=""})),f.forEach((function(e){E(e)})),Swal.fire({position:"center",icon:"success",title:n.сool,text:n.сool_message,timer:5e3}),t.querySelector(".popup").id){case"callback":dataLayer.push({event:"eEvent",eAction:"Recall"}),console.log("Recall");break;case"consult":dataLayer.push({event:"eEvent",eAction:"Consultation"}),console.log("Consultation")}})).catch((function(e){console.log(e),Swal.fire({position:"center",icon:"error",title:n.bad,text:n.bad_message,timer:1e4})}))}}));var L,S,b=(L="oncoo",(S=document.cookie.match("(^|;) ?"+L+"=([^;]*)(;|$)"))?decodeURI(S[2]):null),q=new Date((new Date).getTime()+6048e5).toUTCString();function k(){var e;(e=v).classList.remove("show"),setTimeout((function(){e.classList.add("d-none")}),600),document.cookie="oncoo=1; path=/; expires="+q}navigator.cookieEnabled&&"1"!==b&&setTimeout((function(){var e;(e=v).classList.remove("d-none"),setTimeout((function(){e.classList.add("show")}),100)}),5e3),_.addEventListener("click",(function(){k()})),g.addEventListener("click",(function(){k()}))}))}();